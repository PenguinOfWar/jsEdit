!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.jEdit={})}(this,function(t){"use strict";var i={defaultControls:[{icon:"<i>B</b>",title:"Bold",comName:"bold",state:!0},{icon:"<i>I</i>",title:"Italic",comName:"italic",state:!0},{icon:"<u>U</u>",title:"Underline",comName:"underline",state:!0},{icon:"<b>H<sub>1</sub></b>",title:"Heading 1",comName:"<h1>",formatBlock:"formatBlock"},{icon:"<b>H<sub>2</sub></b>",title:"Heading 2",comName:"<h2>",formatBlock:"formatBlock"},{icon:"&#8220; &#8221;",title:"Quote",comName:"<blockquote>",formatBlock:"formatBlock"},{icon:"&#35;",title:"Ordered List",comName:"insertOrderedList",state:!0},{icon:"&#8226;",title:"Unordered List",comName:"insertOrderedList",state:!0},{icon:"&#128279;",title:"Link",comName:"createLink",extra:function(){return window.prompt("Enter the link URL")}},{icon:"&#128247;",title:"Image",comName:"insertImage",extra:function(){return window.prompt("Enter the link URL")}}]},c=function(t,e,n){t&&t.classList.toggle("active"),document.execCommand(e,!1,n||null)};t.init=function(t){var e=i[t.controls],o=t.ctrElement,n=t.outElement;n.contentEditable=!0,n.classList.add("output-el"),["click","touch"].forEach(function(t){o.addEventListener(t,function(t){n.focus()})}),n.addEventListener("keydown",function(t){"Tab"===t.key?t.preventDefault():"Enter"===t.key&&"blockquote"===document.queryCommandValue("formatBlock")&&(document.querySelectorAll('[title="Quote"]')[0].classList.toggle("active"),c(null,"formatBlock","<div>"))}),e.forEach(function(e){var n=document.createElement("button");n.innerHTML=e.icon,n.title=e.title,n.setAttribute("type","button"),n.classList.add("ctrl-btn"),["click","touch"].forEach(function(t){e.state?n.addEventListener(t,function(){return c(n,e.comName)}):e.formatBlock?n.addEventListener(t,function(){return c(null,e.formatBlock,e.comName)}):n.addEventListener(t,function(){return c(null,e.comName,e.extra())})}),o.append(n)})},Object.defineProperty(t,"__esModule",{value:!0})});
